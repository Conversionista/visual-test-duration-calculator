function calc(){function a(a,b,c){function d(a,b){return Math.log(b)/Math.log(a)}var e=1.5,f=14,g=d(e,a),h=d(e,b),j=(h-g)/f;for(i=g;i<=h;i+=j){var k=Math.pow(e,i);c.push(k/100)}c.reverse()}function b(a,b){a.forEach(function(a){var c=k*(26*Math.pow(Math.sqrt(l*(1-l))/(l*a),2));c/=p,c/=m,c=Math.ceil(c);var d=numeral(a).format("0%");s.push(">"+d),b.push(c)})}function c(a){var b=[];for(i=1;2>=a[i-1];i++)q&&b.push(2);return b}function d(a,b){function c(a,b){for(var c=b[0],d=Math.abs(a-c),e=0;e<b.length;e++){var f=Math.abs(a-b[e]);d>f&&(d=f,c=b[e])}var g=[];return g.push(c),g.push(b.indexOf(c)),g}function d(a,b){var c=a[b];return c}$(".unit").text(o);var e=$(a),f=$(b),g=c(n,r),h=d(s,g[1]);$(e).text(g[0]+" "+o),$(f).text(numeral(h).format("0%"))}function e(){a(2,130,j),q?(g=14,h=1,m=7,n=2,o="weeks"):(g=10,h=10,m=1,n=14,o="days"),b(j,r),d("span.time","span.change")}function f(){var a=$(".col-md-12").width();e();var b={labels:s,datasets:[{label:"Minimal Test Length",fillColor:"rgba(255, 0, 0, 0.5)",strokeColor:"red",pointColor:"red",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"red",data:c(r)},{label:".95 Confidance",fillColor:"rgba(62,167,222,1)",strokeColor:"rgba(31,83,111,1)",pointColor:"rgba(31,83,111,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]};console.log(hasRenderedChart);var d=document.getElementById("myChart").getContext("2d");void 0!==myLineChart||hasRenderedChart===!0?(console.log("chart has been rendered before"),$("#renderHere").show(),$("#changeAfter14").show(),"weeks"===o?$(".footNote").show():$(".footNote").hide()):(console.log("chart has NOT been rendered before"),$("#renderHere").hide(),$("#changeAfter14").hide()),Chart.defaults.global.responsive=!0,(void 0!==myLineChart||hasRenderedChart===!0)&&myLineChart.destroy(),$("#myChart").css("height",parseInt(a/1.618)).css("width",parseInt(a)),myLineChart=new Chart(d).Line(b,{bezierCurve:!1,scaleOverride:!0,scaleSteps:g,scaleStepWidth:h,scaleStartValue:0}),hasRenderedChart=!0}var g=10,h=10,j=[],k=$("#noVar").val(),l=$("#conversionRate").val();l/=100;var m,n,o,p=$("#dailyVisitors").val(),q=$("input[name=week]:checked").length,r=($("#renderHere"),[]),s=[];f()}Chart.defaults.global={animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:'"Lato", sans-serif',scaleFontSize:16,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!0,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:'"Lato", sans-serif',tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:'"Lato", sans-serif',tooltipTitleFontSize:16,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",onAnimationProgress:function(){},onAnimationComplete:function(){}};var myLineChart,hasRenderedChart=!1;$(document).ready(function(){calc()}),$("#calc").click(function(a){calc()});var likes=[];!function(){function a(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(a===b[c].name||a===b[c].getAttribute("property"))return b[c].content;return""}function b(){var b=encodeURIComponent(a("og:title")),c=k.substring(0,8);k="https://"==c?k:"https:"+k,$.each($("div.share-btn"),function(){var a=$(this).attr("data-service");"facebook"===a&&$("a",this).attr("href","https://www.facebook.com/sharer/sharer.php?u="+k),"google"===a&&$("a",this).attr("href","https://plus.google.com/share?url="+k),"linkedin"===a&&$("a",this).attr("href","https://www.linkedin.com/shareArticle?mini=true&url="+k+"&title="+b),"twitter"===a&&$("a",this).attr("href","https://twitter.com/intent/tweet?text="+b+"&url="+k+"&via=conversionista")})}function c(a){for(var b=a.length,c=0;b>c;c++){var d=a[c].shares;void 0!==d.twitter&&(e+=d.twitter),void 0!==d.google&&(g+=d.google),void 0!==d.linkedin&&d.linkedin>h&&(h=d.linkedin);var j=a[c].url;void 0!==d.facebook&&(j.match(/www/g)||(f+=d.facebook)),isNaN(e)&&(e=0),isNaN(g)&&(g=0),isNaN(h)&&(h=0),isNaN(f)&&(f=0)}i={total:f+h+g+e,facebook:f,twitter:e,google:g,linkedin:h},$(".count").each(function(a,b){var c=$(b).parents(".share-btn").attr("data-service"),d=i[c];d>1e3&&(d=(d/1e3).toFixed(1),d>1e3?d=(d/1e3).toFixed(1)+"M":d+="k"),10>d&&(d=""),$(b).html(d)})}function d(a){j=!0;for(var d=0,e=a.length,f=0;e>f;f++){var g=(Math.floor(1e5*Math.random()+1),a[f]),h=$.getJSON("https://count.conversionista.se/?url="+encodeURIComponent(g)+"&callback=?",function(a){likes.push(a)});h.complete(function(){e-1>d?d++:(d=-1e3,c(likes),b())})}}var e=0,f=0,g=0,h=0,i={},j=!1,k=$("link[rel=canonical]").attr("href");$(document).ready(function(){var a=window.location.pathname;a.substring(0,a.length-1);d(["http://apps.conversionista.se/"])}),$(".share-btn").click(function(a){$(this).children("a.button").children("i").removeClass().addClass("fa fa-thumbs-up"),$(this).children("a.button").addClass("animated pulse")})}();